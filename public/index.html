<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ðŸ“Œ Selamat Datang di API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
    <style>
      body {
        background-color: #3c3f41;
        color: #d7dadc;
        font-family: 'Press Start 2P', cursive;
      }

      header {
        background-color: #4a7c56;
        padding: 4rem 0;
        color: #fff;
        border-bottom: 2px solid #5a9c6e;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      header h1 {
        font-size: 3rem;
        font-weight: 700;
      }

      header p {
        font-size: 1.25rem;
        font-weight: 400;
      }

      .btn-primary {
        background-color: #5a9c6e;
        border-color: #4a7c56;
        padding: 12px 24px;
        font-size: 1.1rem;
        border-radius: 0.25rem;
        transition: all 0.3s ease;
      }

      .btn-primary:hover {
        background-color: #4a7c56;
        border-color: #3a5c46;
        transform: scale(1.05);
      }

      #about h2, #status h2 {
        font-size: 2.5rem;
        font-weight: 500;
        margin-bottom: 1.5rem;
      }

      #about p, #status p {
        font-size: 1.25rem;
        max-width: 800px;
        margin: 0 auto;
        line-height: 1.6;
        color: #ddd;
      }

      .info-box {
        background-color: #282a2e;
        padding: 1.5rem;
        border-radius: 8px;
        margin-top: 1rem;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      footer {
        background-color: #4a7c56;
        padding: 1rem 0;
        color: #d7dadc;
        border-top: 2px solid #5a9c6e;
        font-size: 1rem;
      }

      footer p {
        margin-bottom: 0;
      }
    </style>
  </head>

  <body>

    <!-- Header Section -->
    <header class="text-center">
      <h1>Selamat Datang di API ðŸ“Œ</h1>
      <p class="lead mt-3">API untuk mengakses berbagai layanan Download, Search, Maker, dll.</p>
      <div class="mt-4">
        <a href="/docs" class="btn btn-primary btn-lg">
          Lihat Dokumentasi API
        </a>
      </div>
    </header>

    <!-- Deskripsi API -->
    <section id="about" class="container py-5 text-center">
      <h2>Apa itu API ini?</h2>
      <p class="lead">
        API ini menyediakan berbagai layanan untuk mengunduh data, melakukan pencarian, dan membuat konten melalui berbagai endpoint. Anda bisa mengakses dokumentasi ini untuk mengetahui lebih banyak tentang setiap kategori endpoint yang tersedia.
      </p>
    </section>

    <!-- Status Server -->
    <section id="status" class="container py-5 text-center">
      <h2>Status & Informasi API</h2>
      <div class="info-box">
        <h5>ðŸ“Œ Informasi API</h5>
        <p><b>Nama:</b> <span id="api-name">Memuat...</span></p>
        <p><b>Versi:</b> <span id="api-version">Memuat...</span></p>
        <p><b>Uptime:</b> <span id="api-uptime">Memuat...</span></p>
        <p><b>Total Endpoint:</b> <span id="api-endpoints">Memuat...</span></p>
      </div>

      <div class="info-box">
        <h5>ðŸ“Š Status Server</h5>
        <p><b>CPU Load:</b> <span id="cpu-load">Memuat...</span></p>
        <p><b>Total RAM:</b> <span id="total-ram">Memuat...</span></p>
        <p><b>RAM Tersisa:</b> <span id="free-ram">Memuat...</span></p>
      </div>
    </section>

    <!-- Footer Section -->
    <footer class="text-center">
      <p>&copy; 2025 API Documentation. Semua Hak Dilindungi.</p>
    </footer>

    <!-- Bootstrap JS & Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

    <!-- Fetch API Info & Status -->
    <script>
      async function fetchAPIInfo() {
        try {
          const infoRes = await fetch("/api/info");
          const statusRes = await fetch("/api/status");

          const infoData = await infoRes.json();
          const statusData = await statusRes.json();

          document.getElementById("api-name").textContent = infoData.server.name;
          document.getElementById("api-version").textContent = infoData.server.version;
          document.getElementById("api-uptime").textContent = infoData.server.uptime;
          document.getElementById("api-endpoints").textContent = infoData.server.totalEndpoints;

          document.getElementById("cpu-load").textContent = statusData.server.cpuLoad["1m"] + " (1 min)";
          document.getElementById("total-ram").textContent = statusData.server.totalMemory;
          document.getElementById("free-ram").textContent = statusData.server.freeMemory;
        } catch (error) {
          console.error("Gagal mengambil data API:", error);
        }
      }

      // Jalankan fungsi saat halaman dimuat
      fetchAPIInfo();
    </script>

  </body>
</html>